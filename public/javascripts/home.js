'use strict';$(document).ready(function(){$('.editEventBtn').click(function(a){a.preventDefault();var b=$(a.target).children('input').val();$('#input_eventModal').val(b),b=JSON.parse(b);var c=moment(b.from).format('MM/DD/YYYY hh:mm A'),d=moment(b.to).format('MM/DD/YYYY hh:mm A');$('#teamupName').val(b.teamupName),$('#from').val(c),$('#to').val(d),$('#maxPlayers').val(b.maxPlayers),$('#sport').val(b.sport),$('#locationName').val(b.locationName),$('#locationAddress').val(b.locationAddress),$('#from').data('DateTimePicker').maxDate(moment(d)),$('#to').data('DateTimePicker').minDate(moment(c))}),$('.participantsBtn').click(function(a){a.preventDefault();var b=$(a.target).children('input').val();b=JSON.parse(b);var c=$('#listMembers');$('.userList').remove();for(var d=0;d<b.users.length;d++){var f=b.users[d].image,g='hidden';null!=b.users[d].email&&(g=b.users[d].email),c.append('<li class="clearfix userList"> <img class="thumb-img" src="'+f+'"/> '+b.users[d].firstname+' '+b.users[d].lastname+' ('+g+')</li>')}}),$('#eventDelBtn').click(function(){swal({title:'Are you sure?',text:'You won\'t be able to revert this!',type:'warning',showCancelButton:!0,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Yes, delete it!',closeOnConfirm:!1},function(){var b=$('#input_csrf').val(),c=$('#input_eventModal').val();c=JSON.parse(c),$.ajax({type:'POST',url:'/event/delete/'+c.aliasId,data:{_csrf:b},timeout:3e3,success:function success(d){'403'==d.status?swal({title:d.msg,text:d.text,type:'warning',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!0}):swal({title:d.msg,text:d.text,type:'success',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!1},function(){window.location.href=d.redirect})},error:function error(d){window.location.href=d.redirect}})})}),$('.leaveEventBtn').click(function(a){a.preventDefault(),swal({title:'Are you sure?',text:'You won\'t be able to revert this!',type:'warning',showCancelButton:!0,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Yes, I\'m sure.',closeOnConfirm:!1},function(){var b=$('#input_csrf').val(),c=$(a.target).children('input').val();$.ajax({type:'POST',url:'/event/leave/'+c,data:{_csrf:b},timeout:3e3,success:function success(d){'403'==d.status?swal({title:d.msg,text:d.text,type:'warning',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!0}):swal({title:d.msg,text:d.text,type:'success',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!1},function(){window.location.href=d.redirect})},error:function error(d){window.location.href=d.redirect}})})}),$('#updateEventForm').validate({rules:{teamupName:{required:!0,minlength:2},from:{required:!0},to:{required:!0},maxPlayers:{required:!0,max:40,min:0}},messages:{teamupName:{required:'Please enter event name.',minlength:'Event name must have minimum 2 characters.'},from:'Please select date and time',to:'Please select date and time',maxPlayers:{required:'Please enter the maximum player count.',max:'Value should be between 0-40',min:'Value should be between 0-40'}},submitHandler:function submitHandler(a){var b=$('#input_eventModal').val();return b=JSON.parse(b),$.ajax({type:'POST',url:'/event/edit/'+b.aliasId,data:$(a).serialize(),timeout:3e3,success:function success(c){'403'==c.status?swal({title:c.msg,text:c.text,type:'warning',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!0}):swal({title:c.msg,text:c.text,type:'success',confirmButtonColor:'#DD6B55',confirmButtonText:'Okay',closeOnConfirm:!1},function(){window.location.href=c.redirect})},error:function error(c){window.location.href=c.redirect}}),!1}}),$('#editEventSaveBtn').click(function(){$('updateEventForm').submit()})});
